(()=>{var e={};e.id=520,e.ids=[520],e.modules={1161:(e,t,o)=>{Promise.resolve().then(o.bind(o,46501))},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},46387:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>s});let s=(0,o(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Lenovo\\\\Desktop\\\\cinebook\\\\app\\\\login\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Lenovo\\Desktop\\cinebook\\app\\login\\page.tsx","default")},46501:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>l});var s=o(60687),r=o(43210),n=o(64626),a=o(85814),i=o.n(a);function l(){let[e,t]=(0,r.useState)(!0),[o,a]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1),[d,m]=(0,r.useState)(""),[u,p]=(0,r.useState)(""),h=async t=>{t.preventDefault(),m(""),p(""),c(!0);let o=t.target,s=o.email.value,r=o.password.value;if(e){let e=await fetch("/api/Auth/signIn",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,password:r})}),t=await e.json();t.success?(localStorage.setItem("cinebook_token",t.token),p("Login successful!"),window.location.href="/"):m(t.message||"Login failed")}else{let e=o.name?.value;if(r!==o.confirmPassword?.value){m("Passwords do not match"),c(!1);return}let t=await fetch("/api/Auth/signUp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:s,password:r})}),n=await t.json();n.success?(localStorage.setItem("cinebook_token",n.token),p("Account created! Logging in..."),window.location.href="/"):409===n.status?m("User already exists with Google or Facebook account. Please sign in using those methods."):m(n.message||"Signup failed")}c(!1)};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:e?"Sign in to your account":"Create new account"}),(0,s.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:[e?"Don't have an account?":"Already have an account?",(0,s.jsx)("button",{onClick:()=>t(!e),className:"ml-1 font-medium text-red-600 hover:text-red-500",children:e?"Sign up":"Sign in"})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8",children:[(0,s.jsxs)("form",{id:"auth-form",className:"space-y-6",onSubmit:h,children:[!e&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),(0,s.jsx)("input",{id:"name",name:"name",type:"text",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"John Doe"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,s.jsx)("input",{id:"email",name:"email",type:"email",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"john.doe@example.com"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{id:"password",name:"password",type:o?"text":"password",required:!0,className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Enter your password"}),(0,s.jsx)("button",{type:"button",onClick:()=>a(!o),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600",children:(0,s.jsx)("div",{className:"w-5 h-5 flex items-center justify-center",children:(0,s.jsx)("i",{className:o?"ri-eye-off-line":"ri-eye-line"})})})]})]}),!e&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),(0,s.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Confirm your password"})]}),e&&(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{id:"remember",name:"remember",type:"checkbox",className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"}),(0,s.jsx)("label",{htmlFor:"remember",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),(0,s.jsx)(i(),{href:"/forgot-password",className:"text-sm text-red-600 hover:text-red-500",children:"Forgot password?"})]}),(0,s.jsx)("button",{type:"submit",disabled:l,className:`w-full bg-red-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-red-700 transition-colors whitespace-nowrap ${l?"opacity-60 cursor-not-allowed":""}`,children:e?"Sign In":"Create Account"}),d&&(0,s.jsx)("div",{className:"mt-4 text-red-600 text-sm text-center",children:d}),u&&(0,s.jsx)("div",{className:"mt-4 text-green-600 text-sm text-center",children:u})]}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,s.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,s.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,s.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),(0,s.jsxs)("div",{className:"mt-6 space-y-3",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>{let e=`${window.location.origin}/auth/google/callback`,t=`https://accounts.google.com/o/oauth2/v2/auth?client_id=128990421285-aj2arijjk20ftele8pvu197uns6dqtil.apps.googleusercontent.com&redirect_uri=${encodeURIComponent(e)}&response_type=token&scope=${encodeURIComponent("email profile")}`;window.addEventListener("message",async e=>{if(e.origin===window.location.origin&&e.data.googleOAuth){let t=e.data.googleOAuth.accessToken;localStorage.setItem("googleAccessToken",t);let o=await fetch("https://www.googleapis.com/oauth2/v2/userinfo",{headers:{Authorization:`Bearer ${t}`}}),s=await o.json(),r=await fetch("/auth/google",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s.name,email:s.email,googleId:s.id,authProvider:"google"})}),n=await r.json();n.success?(localStorage.setItem("cinebook_token",n.token),window.location.href="/"):alert(n.message||"Google login failed")}}),window.open(t,"google-oauth","width=500,height=600")},className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,s.jsx)("div",{className:"w-5 h-5 flex items-center justify-center mr-2",children:(0,s.jsx)("i",{className:"ri-google-fill text-red-500"})}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Continue with Google"})]}),(0,s.jsxs)("button",{type:"button",onClick:()=>{let e=`${window.location.origin}/auth/facebook/callback`,t=`https://www.facebook.com/v18.0/dialog/oauth?client_id=1520047999160767&redirect_uri=${encodeURIComponent(e)}&response_type=token&scope=${encodeURIComponent("email,public_profile")}`;window.addEventListener("message",e=>{if(e.origin===window.location.origin&&e.data.facebookOAuth){let t=e.data.facebookOAuth.accessToken;localStorage.setItem("facebookAccessToken",t)}}),window.open(t,"facebook-oauth","width=500,height=600")},className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,s.jsx)("div",{className:"w-5 h-5 flex items-center justify-center mr-2",children:(0,s.jsx)("i",{className:"ri-facebook-fill text-blue-600"})}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Continue with Facebook"})]})]})]})]})]})}),(0,s.jsx)(n.A,{})]})}},59305:(e,t,o)=>{Promise.resolve().then(o.bind(o,46387))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},85395:(e,t,o)=>{"use strict";o.r(t),o.d(t,{GlobalError:()=>a.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c});var s=o(65239),r=o(48088),n=o(88170),a=o.n(n),i=o(30893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);o.d(t,l);let c={children:["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(o.bind(o,46387)),"C:\\Users\\Lenovo\\Desktop\\cinebook\\app\\login\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(o.bind(o,58014)),"C:\\Users\\Lenovo\\Desktop\\cinebook\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(o.bind(o,82366)),"C:\\Users\\Lenovo\\Desktop\\cinebook\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(o.t.bind(o,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(o.t.bind(o,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["C:\\Users\\Lenovo\\Desktop\\cinebook\\app\\login\\page.tsx"],m={require:o,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})}};var t=require("../../webpack-runtime.js");t.C(e);var o=e=>t(t.s=e),s=t.X(0,[447,956,867],()=>o(85395));module.exports=s})();